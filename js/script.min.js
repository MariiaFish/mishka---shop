const OPENED_MENU_CLASS_NAME="main-nav--opened",CLOSED_MENU_CLASS_NAME="main-nav--closed",OPENED_MENU_LIST_CLASS_NAME="main-nav__list--opened",MODAL_CLOSED_CLASS_ELEMEN="modal--off",ADD_TO_CAR_CLASS_NAME="button--add-to-car",ESC_KEY="Escape",MODAL_OVERLAY_CLASS_NAME="modal__overlay",bodyElement=document.querySelector("body"),navigationMenu=bodyElement.querySelector(".main-nav"),navToggelButton=navigationMenu.querySelector(".main-nav__toggle"),navList=navigationMenu.querySelector(".main-nav__list"),carButtons=document.querySelectorAll(".button--add-to-car"),modalMessageTemplate=document.querySelector("#modal").content,modalMessage=modalMessageTemplate.querySelector(".modal"),isEscapeKey=e=>e.key===ESC_KEY,isModalOverlay=e=>e.target.classList.contains("modal__overlay"),isAddCarButton=e=>e.target.classList.contains("button--add-to-car"),getNewMessage=e=>e.cloneNode(!0),newModalMessage=getNewMessage(modalMessage),switchMenuIconCondition=e=>{e.classList.toggle("main-nav--opened"),e.classList.toggle("main-nav--closed")},addHandlerToNavButton=(e,a,n)=>{e.addEventListener("click",(()=>{switchMenuIconCondition(a),n.classList.toggle("main-nav__list--opened")}))},showModalElement=e=>{bodyElement.appendChild(e),closeOnEsc(window),closeOnClick(window)},closeModalMessage=e=>{e.remove(),window.removeEventListener("keydown",closeModalMessageOnEsc),window.removeEventListener("click",closeModalMessageOnClick)},closeModalMessageOnEsc=e=>{isEscapeKey(e)&&(e.preventDefault(),closeModalMessage(newModalMessage))},closeOnEsc=e=>{e.addEventListener("keydown",closeModalMessageOnEsc)},closeModalMessageOnClick=e=>{e.preventDefault(),isModalOverlay(e)&&closeModalMessage(newModalMessage)},closeOnClick=e=>{e.addEventListener("click",closeModalMessageOnClick)},addHendlerToCarButton=(e,a)=>{e.forEach((e=>{e.addEventListener("click",(e=>{var n;isAddCarButton(e)&&(n=a,bodyElement.appendChild(n),closeOnEsc(window),closeOnClick(window))}))}))};addHandlerToNavButton(navToggelButton,navigationMenu,navList),addHendlerToCarButton(carButtons,newModalMessage);